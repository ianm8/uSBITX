#ifndef UTIL_H
#define UTIL_H

#define SAMPLERATE 31250ul
#define PRNG_SEED 0x12345678

#define _rev2(x)  ((((x)&1)<<1) | (((x)>>1)&1))
#define _rev4(x)  ((_rev2(x)<<2) | (_rev2((x)>>2)))
#define _rev8(x)  ((_rev4(x)<<4) | (_rev4((x)>>4)))
#define _rev16(x) ((_rev8(x)<<8) | (_rev8((x)>>8)))

#define _rev(x) (uint16_t)(_rev16(x))

#define LCD_BLACK  _rev(TFT_BLACK)
#define LCD_WHITE  _rev(TFT_WHITE)
#define LCD_RED    _rev(TFT_RED)
#define LCD_GREEN  _rev(TFT_GREEN)
#define LCD_BLUE   _rev(TFT_BLUE)
#define LCD_YELLOW _rev(TFT_YELLOW)
#define LCD_PINK   _rev(TFT_PINK)
#define LCD_PURPLE _rev(TFT_PURPLE)
#define LCD_MODE   _rev(0xf000)

namespace UTIL
{
  static const int16_t __not_in_flash("fast_access_sram") sin_tab[1024] =
  {
    (int16_t)32767,
    (int16_t)32766,
    (int16_t)32765,
    (int16_t)32761,
    (int16_t)32757,
    (int16_t)32752,
    (int16_t)32745,
    (int16_t)32737,
    (int16_t)32728,
    (int16_t)32717,
    (int16_t)32705,
    (int16_t)32692,
    (int16_t)32678,
    (int16_t)32663,
    (int16_t)32646,
    (int16_t)32628,
    (int16_t)32609,
    (int16_t)32589,
    (int16_t)32567,
    (int16_t)32545,
    (int16_t)32521,
    (int16_t)32495,
    (int16_t)32469,
    (int16_t)32441,
    (int16_t)32412,
    (int16_t)32382,
    (int16_t)32351,
    (int16_t)32318,
    (int16_t)32285,
    (int16_t)32250,
    (int16_t)32213,
    (int16_t)32176,
    (int16_t)32137,
    (int16_t)32098,
    (int16_t)32057,
    (int16_t)32014,
    (int16_t)31971,
    (int16_t)31926,
    (int16_t)31880,
    (int16_t)31833,
    (int16_t)31785,
    (int16_t)31736,
    (int16_t)31685,
    (int16_t)31633,
    (int16_t)31580,
    (int16_t)31526,
    (int16_t)31470,
    (int16_t)31414,
    (int16_t)31356,
    (int16_t)31297,
    (int16_t)31237,
    (int16_t)31176,
    (int16_t)31113,
    (int16_t)31050,
    (int16_t)30985,
    (int16_t)30919,
    (int16_t)30852,
    (int16_t)30783,
    (int16_t)30714,
    (int16_t)30643,
    (int16_t)30571,
    (int16_t)30498,
    (int16_t)30424,
    (int16_t)30349,
    (int16_t)30273,
    (int16_t)30195,
    (int16_t)30117,
    (int16_t)30037,
    (int16_t)29956,
    (int16_t)29874,
    (int16_t)29791,
    (int16_t)29706,
    (int16_t)29621,
    (int16_t)29534,
    (int16_t)29447,
    (int16_t)29358,
    (int16_t)29268,
    (int16_t)29177,
    (int16_t)29085,
    (int16_t)28992,
    (int16_t)28898,
    (int16_t)28803,
    (int16_t)28706,
    (int16_t)28609,
    (int16_t)28510,
    (int16_t)28411,
    (int16_t)28310,
    (int16_t)28208,
    (int16_t)28105,
    (int16_t)28001,
    (int16_t)27896,
    (int16_t)27790,
    (int16_t)27683,
    (int16_t)27575,
    (int16_t)27466,
    (int16_t)27356,
    (int16_t)27245,
    (int16_t)27133,
    (int16_t)27019,
    (int16_t)26905,
    (int16_t)26790,
    (int16_t)26674,
    (int16_t)26556,
    (int16_t)26438,
    (int16_t)26319,
    (int16_t)26198,
    (int16_t)26077,
    (int16_t)25955,
    (int16_t)25832,
    (int16_t)25708,
    (int16_t)25582,
    (int16_t)25456,
    (int16_t)25329,
    (int16_t)25201,
    (int16_t)25072,
    (int16_t)24942,
    (int16_t)24811,
    (int16_t)24680,
    (int16_t)24547,
    (int16_t)24413,
    (int16_t)24279,
    (int16_t)24143,
    (int16_t)24007,
    (int16_t)23870,
    (int16_t)23731,
    (int16_t)23592,
    (int16_t)23452,
    (int16_t)23311,
    (int16_t)23170,
    (int16_t)23027,
    (int16_t)22884,
    (int16_t)22739,
    (int16_t)22594,
    (int16_t)22448,
    (int16_t)22301,
    (int16_t)22154,
    (int16_t)22005,
    (int16_t)21856,
    (int16_t)21705,
    (int16_t)21554,
    (int16_t)21403,
    (int16_t)21250,
    (int16_t)21096,
    (int16_t)20942,
    (int16_t)20787,
    (int16_t)20631,
    (int16_t)20475,
    (int16_t)20317,
    (int16_t)20159,
    (int16_t)20000,
    (int16_t)19841,
    (int16_t)19680,
    (int16_t)19519,
    (int16_t)19357,
    (int16_t)19195,
    (int16_t)19032,
    (int16_t)18868,
    (int16_t)18703,
    (int16_t)18537,
    (int16_t)18371,
    (int16_t)18204,
    (int16_t)18037,
    (int16_t)17869,
    (int16_t)17700,
    (int16_t)17530,
    (int16_t)17360,
    (int16_t)17189,
    (int16_t)17018,
    (int16_t)16846,
    (int16_t)16673,
    (int16_t)16499,
    (int16_t)16325,
    (int16_t)16151,
    (int16_t)15976,
    (int16_t)15800,
    (int16_t)15623,
    (int16_t)15446,
    (int16_t)15269,
    (int16_t)15090,
    (int16_t)14912,
    (int16_t)14732,
    (int16_t)14553,
    (int16_t)14372,
    (int16_t)14191,
    (int16_t)14010,
    (int16_t)13828,
    (int16_t)13645,
    (int16_t)13462,
    (int16_t)13279,
    (int16_t)13094,
    (int16_t)12910,
    (int16_t)12725,
    (int16_t)12539,
    (int16_t)12353,
    (int16_t)12167,
    (int16_t)11980,
    (int16_t)11793,
    (int16_t)11605,
    (int16_t)11417,
    (int16_t)11228,
    (int16_t)11039,
    (int16_t)10849,
    (int16_t)10659,
    (int16_t)10469,
    (int16_t)10278,
    (int16_t)10087,
    (int16_t)9896,
    (int16_t)9704,
    (int16_t)9512,
    (int16_t)9319,
    (int16_t)9126,
    (int16_t)8933,
    (int16_t)8739,
    (int16_t)8545,
    (int16_t)8351,
    (int16_t)8157,
    (int16_t)7962,
    (int16_t)7767,
    (int16_t)7571,
    (int16_t)7375,
    (int16_t)7179,
    (int16_t)6983,
    (int16_t)6786,
    (int16_t)6590,
    (int16_t)6393,
    (int16_t)6195,
    (int16_t)5998,
    (int16_t)5800,
    (int16_t)5602,
    (int16_t)5404,
    (int16_t)5205,
    (int16_t)5007,
    (int16_t)4808,
    (int16_t)4609,
    (int16_t)4410,
    (int16_t)4210,
    (int16_t)4011,
    (int16_t)3811,
    (int16_t)3612,
    (int16_t)3412,
    (int16_t)3212,
    (int16_t)3012,
    (int16_t)2811,
    (int16_t)2611,
    (int16_t)2410,
    (int16_t)2210,
    (int16_t)2009,
    (int16_t)1809,
    (int16_t)1608,
    (int16_t)1407,
    (int16_t)1206,
    (int16_t)1005,
    (int16_t)804,
    (int16_t)603,
    (int16_t)402,
    (int16_t)201,
    (int16_t)0,
    (int16_t)-201,
    (int16_t)-402,
    (int16_t)-603,
    (int16_t)-804,
    (int16_t)-1005,
    (int16_t)-1206,
    (int16_t)-1407,
    (int16_t)-1608,
    (int16_t)-1809,
    (int16_t)-2009,
    (int16_t)-2210,
    (int16_t)-2410,
    (int16_t)-2611,
    (int16_t)-2811,
    (int16_t)-3012,
    (int16_t)-3212,
    (int16_t)-3412,
    (int16_t)-3612,
    (int16_t)-3811,
    (int16_t)-4011,
    (int16_t)-4210,
    (int16_t)-4410,
    (int16_t)-4609,
    (int16_t)-4808,
    (int16_t)-5007,
    (int16_t)-5205,
    (int16_t)-5404,
    (int16_t)-5602,
    (int16_t)-5800,
    (int16_t)-5998,
    (int16_t)-6195,
    (int16_t)-6393,
    (int16_t)-6590,
    (int16_t)-6786,
    (int16_t)-6983,
    (int16_t)-7179,
    (int16_t)-7375,
    (int16_t)-7571,
    (int16_t)-7767,
    (int16_t)-7962,
    (int16_t)-8157,
    (int16_t)-8351,
    (int16_t)-8545,
    (int16_t)-8739,
    (int16_t)-8933,
    (int16_t)-9126,
    (int16_t)-9319,
    (int16_t)-9512,
    (int16_t)-9704,
    (int16_t)-9896,
    (int16_t)-10087,
    (int16_t)-10278,
    (int16_t)-10469,
    (int16_t)-10659,
    (int16_t)-10849,
    (int16_t)-11039,
    (int16_t)-11228,
    (int16_t)-11417,
    (int16_t)-11605,
    (int16_t)-11793,
    (int16_t)-11980,
    (int16_t)-12167,
    (int16_t)-12353,
    (int16_t)-12539,
    (int16_t)-12725,
    (int16_t)-12910,
    (int16_t)-13094,
    (int16_t)-13279,
    (int16_t)-13462,
    (int16_t)-13645,
    (int16_t)-13828,
    (int16_t)-14010,
    (int16_t)-14191,
    (int16_t)-14372,
    (int16_t)-14553,
    (int16_t)-14732,
    (int16_t)-14912,
    (int16_t)-15090,
    (int16_t)-15269,
    (int16_t)-15446,
    (int16_t)-15623,
    (int16_t)-15800,
    (int16_t)-15976,
    (int16_t)-16151,
    (int16_t)-16325,
    (int16_t)-16499,
    (int16_t)-16673,
    (int16_t)-16846,
    (int16_t)-17018,
    (int16_t)-17189,
    (int16_t)-17360,
    (int16_t)-17530,
    (int16_t)-17700,
    (int16_t)-17869,
    (int16_t)-18037,
    (int16_t)-18204,
    (int16_t)-18371,
    (int16_t)-18537,
    (int16_t)-18703,
    (int16_t)-18868,
    (int16_t)-19032,
    (int16_t)-19195,
    (int16_t)-19357,
    (int16_t)-19519,
    (int16_t)-19680,
    (int16_t)-19841,
    (int16_t)-20000,
    (int16_t)-20159,
    (int16_t)-20317,
    (int16_t)-20475,
    (int16_t)-20631,
    (int16_t)-20787,
    (int16_t)-20942,
    (int16_t)-21096,
    (int16_t)-21250,
    (int16_t)-21403,
    (int16_t)-21554,
    (int16_t)-21705,
    (int16_t)-21856,
    (int16_t)-22005,
    (int16_t)-22154,
    (int16_t)-22301,
    (int16_t)-22448,
    (int16_t)-22594,
    (int16_t)-22739,
    (int16_t)-22884,
    (int16_t)-23027,
    (int16_t)-23170,
    (int16_t)-23311,
    (int16_t)-23452,
    (int16_t)-23592,
    (int16_t)-23731,
    (int16_t)-23870,
    (int16_t)-24007,
    (int16_t)-24143,
    (int16_t)-24279,
    (int16_t)-24413,
    (int16_t)-24547,
    (int16_t)-24680,
    (int16_t)-24811,
    (int16_t)-24942,
    (int16_t)-25072,
    (int16_t)-25201,
    (int16_t)-25329,
    (int16_t)-25456,
    (int16_t)-25582,
    (int16_t)-25708,
    (int16_t)-25832,
    (int16_t)-25955,
    (int16_t)-26077,
    (int16_t)-26198,
    (int16_t)-26319,
    (int16_t)-26438,
    (int16_t)-26556,
    (int16_t)-26674,
    (int16_t)-26790,
    (int16_t)-26905,
    (int16_t)-27019,
    (int16_t)-27133,
    (int16_t)-27245,
    (int16_t)-27356,
    (int16_t)-27466,
    (int16_t)-27575,
    (int16_t)-27683,
    (int16_t)-27790,
    (int16_t)-27896,
    (int16_t)-28001,
    (int16_t)-28105,
    (int16_t)-28208,
    (int16_t)-28310,
    (int16_t)-28411,
    (int16_t)-28510,
    (int16_t)-28609,
    (int16_t)-28706,
    (int16_t)-28803,
    (int16_t)-28898,
    (int16_t)-28992,
    (int16_t)-29085,
    (int16_t)-29177,
    (int16_t)-29268,
    (int16_t)-29358,
    (int16_t)-29447,
    (int16_t)-29534,
    (int16_t)-29621,
    (int16_t)-29706,
    (int16_t)-29791,
    (int16_t)-29874,
    (int16_t)-29956,
    (int16_t)-30037,
    (int16_t)-30117,
    (int16_t)-30195,
    (int16_t)-30273,
    (int16_t)-30349,
    (int16_t)-30424,
    (int16_t)-30498,
    (int16_t)-30571,
    (int16_t)-30643,
    (int16_t)-30714,
    (int16_t)-30783,
    (int16_t)-30852,
    (int16_t)-30919,
    (int16_t)-30985,
    (int16_t)-31050,
    (int16_t)-31113,
    (int16_t)-31176,
    (int16_t)-31237,
    (int16_t)-31297,
    (int16_t)-31356,
    (int16_t)-31414,
    (int16_t)-31470,
    (int16_t)-31526,
    (int16_t)-31580,
    (int16_t)-31633,
    (int16_t)-31685,
    (int16_t)-31736,
    (int16_t)-31785,
    (int16_t)-31833,
    (int16_t)-31880,
    (int16_t)-31926,
    (int16_t)-31971,
    (int16_t)-32014,
    (int16_t)-32057,
    (int16_t)-32098,
    (int16_t)-32137,
    (int16_t)-32176,
    (int16_t)-32213,
    (int16_t)-32250,
    (int16_t)-32285,
    (int16_t)-32318,
    (int16_t)-32351,
    (int16_t)-32382,
    (int16_t)-32412,
    (int16_t)-32441,
    (int16_t)-32469,
    (int16_t)-32495,
    (int16_t)-32521,
    (int16_t)-32545,
    (int16_t)-32567,
    (int16_t)-32589,
    (int16_t)-32609,
    (int16_t)-32628,
    (int16_t)-32646,
    (int16_t)-32663,
    (int16_t)-32678,
    (int16_t)-32692,
    (int16_t)-32705,
    (int16_t)-32717,
    (int16_t)-32728,
    (int16_t)-32737,
    (int16_t)-32745,
    (int16_t)-32752,
    (int16_t)-32757,
    (int16_t)-32761,
    (int16_t)-32765,
    (int16_t)-32766,
    (int16_t)-32767,
    (int16_t)-32766,
    (int16_t)-32765,
    (int16_t)-32761,
    (int16_t)-32757,
    (int16_t)-32752,
    (int16_t)-32745,
    (int16_t)-32737,
    (int16_t)-32728,
    (int16_t)-32717,
    (int16_t)-32705,
    (int16_t)-32692,
    (int16_t)-32678,
    (int16_t)-32663,
    (int16_t)-32646,
    (int16_t)-32628,
    (int16_t)-32609,
    (int16_t)-32589,
    (int16_t)-32567,
    (int16_t)-32545,
    (int16_t)-32521,
    (int16_t)-32495,
    (int16_t)-32469,
    (int16_t)-32441,
    (int16_t)-32412,
    (int16_t)-32382,
    (int16_t)-32351,
    (int16_t)-32318,
    (int16_t)-32285,
    (int16_t)-32250,
    (int16_t)-32213,
    (int16_t)-32176,
    (int16_t)-32137,
    (int16_t)-32098,
    (int16_t)-32057,
    (int16_t)-32014,
    (int16_t)-31971,
    (int16_t)-31926,
    (int16_t)-31880,
    (int16_t)-31833,
    (int16_t)-31785,
    (int16_t)-31736,
    (int16_t)-31685,
    (int16_t)-31633,
    (int16_t)-31580,
    (int16_t)-31526,
    (int16_t)-31470,
    (int16_t)-31414,
    (int16_t)-31356,
    (int16_t)-31297,
    (int16_t)-31237,
    (int16_t)-31176,
    (int16_t)-31113,
    (int16_t)-31050,
    (int16_t)-30985,
    (int16_t)-30919,
    (int16_t)-30852,
    (int16_t)-30783,
    (int16_t)-30714,
    (int16_t)-30643,
    (int16_t)-30571,
    (int16_t)-30498,
    (int16_t)-30424,
    (int16_t)-30349,
    (int16_t)-30273,
    (int16_t)-30195,
    (int16_t)-30117,
    (int16_t)-30037,
    (int16_t)-29956,
    (int16_t)-29874,
    (int16_t)-29791,
    (int16_t)-29706,
    (int16_t)-29621,
    (int16_t)-29534,
    (int16_t)-29447,
    (int16_t)-29358,
    (int16_t)-29268,
    (int16_t)-29177,
    (int16_t)-29085,
    (int16_t)-28992,
    (int16_t)-28898,
    (int16_t)-28803,
    (int16_t)-28706,
    (int16_t)-28609,
    (int16_t)-28510,
    (int16_t)-28411,
    (int16_t)-28310,
    (int16_t)-28208,
    (int16_t)-28105,
    (int16_t)-28001,
    (int16_t)-27896,
    (int16_t)-27790,
    (int16_t)-27683,
    (int16_t)-27575,
    (int16_t)-27466,
    (int16_t)-27356,
    (int16_t)-27245,
    (int16_t)-27133,
    (int16_t)-27019,
    (int16_t)-26905,
    (int16_t)-26790,
    (int16_t)-26674,
    (int16_t)-26556,
    (int16_t)-26438,
    (int16_t)-26319,
    (int16_t)-26198,
    (int16_t)-26077,
    (int16_t)-25955,
    (int16_t)-25832,
    (int16_t)-25708,
    (int16_t)-25582,
    (int16_t)-25456,
    (int16_t)-25329,
    (int16_t)-25201,
    (int16_t)-25072,
    (int16_t)-24942,
    (int16_t)-24811,
    (int16_t)-24680,
    (int16_t)-24547,
    (int16_t)-24413,
    (int16_t)-24279,
    (int16_t)-24143,
    (int16_t)-24007,
    (int16_t)-23870,
    (int16_t)-23731,
    (int16_t)-23592,
    (int16_t)-23452,
    (int16_t)-23311,
    (int16_t)-23170,
    (int16_t)-23027,
    (int16_t)-22884,
    (int16_t)-22739,
    (int16_t)-22594,
    (int16_t)-22448,
    (int16_t)-22301,
    (int16_t)-22154,
    (int16_t)-22005,
    (int16_t)-21856,
    (int16_t)-21705,
    (int16_t)-21554,
    (int16_t)-21403,
    (int16_t)-21250,
    (int16_t)-21096,
    (int16_t)-20942,
    (int16_t)-20787,
    (int16_t)-20631,
    (int16_t)-20475,
    (int16_t)-20317,
    (int16_t)-20159,
    (int16_t)-20000,
    (int16_t)-19841,
    (int16_t)-19680,
    (int16_t)-19519,
    (int16_t)-19357,
    (int16_t)-19195,
    (int16_t)-19032,
    (int16_t)-18868,
    (int16_t)-18703,
    (int16_t)-18537,
    (int16_t)-18371,
    (int16_t)-18204,
    (int16_t)-18037,
    (int16_t)-17869,
    (int16_t)-17700,
    (int16_t)-17530,
    (int16_t)-17360,
    (int16_t)-17189,
    (int16_t)-17018,
    (int16_t)-16846,
    (int16_t)-16673,
    (int16_t)-16499,
    (int16_t)-16325,
    (int16_t)-16151,
    (int16_t)-15976,
    (int16_t)-15800,
    (int16_t)-15623,
    (int16_t)-15446,
    (int16_t)-15269,
    (int16_t)-15090,
    (int16_t)-14912,
    (int16_t)-14732,
    (int16_t)-14553,
    (int16_t)-14372,
    (int16_t)-14191,
    (int16_t)-14010,
    (int16_t)-13828,
    (int16_t)-13645,
    (int16_t)-13462,
    (int16_t)-13279,
    (int16_t)-13094,
    (int16_t)-12910,
    (int16_t)-12725,
    (int16_t)-12539,
    (int16_t)-12353,
    (int16_t)-12167,
    (int16_t)-11980,
    (int16_t)-11793,
    (int16_t)-11605,
    (int16_t)-11417,
    (int16_t)-11228,
    (int16_t)-11039,
    (int16_t)-10849,
    (int16_t)-10659,
    (int16_t)-10469,
    (int16_t)-10278,
    (int16_t)-10087,
    (int16_t)-9896,
    (int16_t)-9704,
    (int16_t)-9512,
    (int16_t)-9319,
    (int16_t)-9126,
    (int16_t)-8933,
    (int16_t)-8739,
    (int16_t)-8545,
    (int16_t)-8351,
    (int16_t)-8157,
    (int16_t)-7962,
    (int16_t)-7767,
    (int16_t)-7571,
    (int16_t)-7375,
    (int16_t)-7179,
    (int16_t)-6983,
    (int16_t)-6786,
    (int16_t)-6590,
    (int16_t)-6393,
    (int16_t)-6195,
    (int16_t)-5998,
    (int16_t)-5800,
    (int16_t)-5602,
    (int16_t)-5404,
    (int16_t)-5205,
    (int16_t)-5007,
    (int16_t)-4808,
    (int16_t)-4609,
    (int16_t)-4410,
    (int16_t)-4210,
    (int16_t)-4011,
    (int16_t)-3811,
    (int16_t)-3612,
    (int16_t)-3412,
    (int16_t)-3212,
    (int16_t)-3012,
    (int16_t)-2811,
    (int16_t)-2611,
    (int16_t)-2410,
    (int16_t)-2210,
    (int16_t)-2009,
    (int16_t)-1809,
    (int16_t)-1608,
    (int16_t)-1407,
    (int16_t)-1206,
    (int16_t)-1005,
    (int16_t)-804,
    (int16_t)-603,
    (int16_t)-402,
    (int16_t)-201,
    (int16_t)0,
    (int16_t)201,
    (int16_t)402,
    (int16_t)603,
    (int16_t)804,
    (int16_t)1005,
    (int16_t)1206,
    (int16_t)1407,
    (int16_t)1608,
    (int16_t)1809,
    (int16_t)2009,
    (int16_t)2210,
    (int16_t)2410,
    (int16_t)2611,
    (int16_t)2811,
    (int16_t)3012,
    (int16_t)3212,
    (int16_t)3412,
    (int16_t)3612,
    (int16_t)3811,
    (int16_t)4011,
    (int16_t)4210,
    (int16_t)4410,
    (int16_t)4609,
    (int16_t)4808,
    (int16_t)5007,
    (int16_t)5205,
    (int16_t)5404,
    (int16_t)5602,
    (int16_t)5800,
    (int16_t)5998,
    (int16_t)6195,
    (int16_t)6393,
    (int16_t)6590,
    (int16_t)6786,
    (int16_t)6983,
    (int16_t)7179,
    (int16_t)7375,
    (int16_t)7571,
    (int16_t)7767,
    (int16_t)7962,
    (int16_t)8157,
    (int16_t)8351,
    (int16_t)8545,
    (int16_t)8739,
    (int16_t)8933,
    (int16_t)9126,
    (int16_t)9319,
    (int16_t)9512,
    (int16_t)9704,
    (int16_t)9896,
    (int16_t)10087,
    (int16_t)10278,
    (int16_t)10469,
    (int16_t)10659,
    (int16_t)10849,
    (int16_t)11039,
    (int16_t)11228,
    (int16_t)11417,
    (int16_t)11605,
    (int16_t)11793,
    (int16_t)11980,
    (int16_t)12167,
    (int16_t)12353,
    (int16_t)12539,
    (int16_t)12725,
    (int16_t)12910,
    (int16_t)13094,
    (int16_t)13279,
    (int16_t)13462,
    (int16_t)13645,
    (int16_t)13828,
    (int16_t)14010,
    (int16_t)14191,
    (int16_t)14372,
    (int16_t)14553,
    (int16_t)14732,
    (int16_t)14912,
    (int16_t)15090,
    (int16_t)15269,
    (int16_t)15446,
    (int16_t)15623,
    (int16_t)15800,
    (int16_t)15976,
    (int16_t)16151,
    (int16_t)16325,
    (int16_t)16499,
    (int16_t)16673,
    (int16_t)16846,
    (int16_t)17018,
    (int16_t)17189,
    (int16_t)17360,
    (int16_t)17530,
    (int16_t)17700,
    (int16_t)17869,
    (int16_t)18037,
    (int16_t)18204,
    (int16_t)18371,
    (int16_t)18537,
    (int16_t)18703,
    (int16_t)18868,
    (int16_t)19032,
    (int16_t)19195,
    (int16_t)19357,
    (int16_t)19519,
    (int16_t)19680,
    (int16_t)19841,
    (int16_t)20000,
    (int16_t)20159,
    (int16_t)20317,
    (int16_t)20475,
    (int16_t)20631,
    (int16_t)20787,
    (int16_t)20942,
    (int16_t)21096,
    (int16_t)21250,
    (int16_t)21403,
    (int16_t)21554,
    (int16_t)21705,
    (int16_t)21856,
    (int16_t)22005,
    (int16_t)22154,
    (int16_t)22301,
    (int16_t)22448,
    (int16_t)22594,
    (int16_t)22739,
    (int16_t)22884,
    (int16_t)23027,
    (int16_t)23170,
    (int16_t)23311,
    (int16_t)23452,
    (int16_t)23592,
    (int16_t)23731,
    (int16_t)23870,
    (int16_t)24007,
    (int16_t)24143,
    (int16_t)24279,
    (int16_t)24413,
    (int16_t)24547,
    (int16_t)24680,
    (int16_t)24811,
    (int16_t)24942,
    (int16_t)25072,
    (int16_t)25201,
    (int16_t)25329,
    (int16_t)25456,
    (int16_t)25582,
    (int16_t)25708,
    (int16_t)25832,
    (int16_t)25955,
    (int16_t)26077,
    (int16_t)26198,
    (int16_t)26319,
    (int16_t)26438,
    (int16_t)26556,
    (int16_t)26674,
    (int16_t)26790,
    (int16_t)26905,
    (int16_t)27019,
    (int16_t)27133,
    (int16_t)27245,
    (int16_t)27356,
    (int16_t)27466,
    (int16_t)27575,
    (int16_t)27683,
    (int16_t)27790,
    (int16_t)27896,
    (int16_t)28001,
    (int16_t)28105,
    (int16_t)28208,
    (int16_t)28310,
    (int16_t)28411,
    (int16_t)28510,
    (int16_t)28609,
    (int16_t)28706,
    (int16_t)28803,
    (int16_t)28898,
    (int16_t)28992,
    (int16_t)29085,
    (int16_t)29177,
    (int16_t)29268,
    (int16_t)29358,
    (int16_t)29447,
    (int16_t)29534,
    (int16_t)29621,
    (int16_t)29706,
    (int16_t)29791,
    (int16_t)29874,
    (int16_t)29956,
    (int16_t)30037,
    (int16_t)30117,
    (int16_t)30195,
    (int16_t)30273,
    (int16_t)30349,
    (int16_t)30424,
    (int16_t)30498,
    (int16_t)30571,
    (int16_t)30643,
    (int16_t)30714,
    (int16_t)30783,
    (int16_t)30852,
    (int16_t)30919,
    (int16_t)30985,
    (int16_t)31050,
    (int16_t)31113,
    (int16_t)31176,
    (int16_t)31237,
    (int16_t)31297,
    (int16_t)31356,
    (int16_t)31414,
    (int16_t)31470,
    (int16_t)31526,
    (int16_t)31580,
    (int16_t)31633,
    (int16_t)31685,
    (int16_t)31736,
    (int16_t)31785,
    (int16_t)31833,
    (int16_t)31880,
    (int16_t)31926,
    (int16_t)31971,
    (int16_t)32014,
    (int16_t)32057,
    (int16_t)32098,
    (int16_t)32137,
    (int16_t)32176,
    (int16_t)32213,
    (int16_t)32250,
    (int16_t)32285,
    (int16_t)32318,
    (int16_t)32351,
    (int16_t)32382,
    (int16_t)32412,
    (int16_t)32441,
    (int16_t)32469,
    (int16_t)32495,
    (int16_t)32521,
    (int16_t)32545,
    (int16_t)32567,
    (int16_t)32589,
    (int16_t)32609,
    (int16_t)32628,
    (int16_t)32646,
    (int16_t)32663,
    (int16_t)32678,
    (int16_t)32692,
    (int16_t)32705,
    (int16_t)32717,
    (int16_t)32728,
    (int16_t)32737,
    (int16_t)32745,
    (int16_t)32752,
    (int16_t)32757,
    (int16_t)32761,
    (int16_t)32765,
    (int16_t)32766
  };

  static const uint32_t __not_in_flash_func(map)(const uint32_t x,const uint32_t in_min, const uint32_t in_max,const uint32_t out_min, const float out_max)
  {
    // unsigned map
    if (x<in_min)
    {
      return out_min;
    }
    if (x>in_max)
    {
      return out_max;
    }
    return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
  }

  static const uint32_t prng32(void)
  {
    volatile static uint32_t state = PRNG_SEED;
    uint32_t x = state;
    x ^= x << 13;
    x ^= x >> 17;
    x ^= x << 5;
    return (state = x);
  }

}
#endif